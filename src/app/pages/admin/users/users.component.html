<!-- Search Bar -->
<div class="search-container">
  <i class="fa fa-search search-icon"></i>
  <input type="text" placeholder="Search users" [(ngModel)]="search_item">
</div>

<div class="user-list-container">
  <h1>User List</h1>

  <!-- Loading Indicator -->
  <div *ngIf="loading" class="loading">
    Loading users...
  </div>

  <!-- Error Message -->
  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <!-- Card View Container -->
  <div class="cards-container">
    <div *ngFor="let user of filterUsers()" class="card">
      <!-- Card Actions: Three dots menu -->
      <div class="card-actions">
        <button class="menu-button" (click)="toggleMenu(user)">&#8942;</button> <!-- Unicode vertical ellipsis -->
        <div class="dropdown-menu" *ngIf="user.showMenu">
          <ul>
            <li (click)="deleteUser(user)">
              <i class="fa fa-trash"></i> Delete
            </li>
          </ul>
        </div>
      </div>
      
      <!-- User Image -->
      <img
        class="card-image"
        [src]="user.image ? user.image : 'assets/images/default-user.png'"
        [alt]="user.name"
      >
      <!-- Card Content -->
      <div class="card-content">
        <h2>{{ user.name }}</h2>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>CIN:</strong> {{ user.cin }}</p>
        <p *ngIf="user.location"><strong>Location:</strong> {{ user.location }}</p>
      </div>
    </div>
  </div>
</div>
