<div class="quiz-container" style="max-width: 600px; margin: 20px auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px;">
  <h2>Insurance Quiz</h2>
  
  <!-- If user already passed, show the passed message -->
  <div *ngIf="alreadyPassed" class="passed-message" style="text-align: center; margin: 20px 0;">
    <p style="font-size: 1.2rem; color: #004a8d; font-weight: 600;">You have already passed the quiz!</p>
    <p style="color: #f38f1d;">Thank you for your participation.</p>
  </div>
  
  <!-- Otherwise, show the quiz form -->
  <div *ngIf="!alreadyPassed">
    <div *ngFor="let question of questions; let i = index" style="margin-bottom: 20px;">
      <p style="font-weight: bold;">{{ i + 1 }}. {{ question.questionText }}</p>
      <div *ngFor="let option of question.options" style="margin-bottom: 6px;">
        <label>
          <input type="radio" name="question{{ i }}" [value]="option" [(ngModel)]="question.userAnswer">
          {{ option }}
        </label>
      </div>
    </div>
    
    <button (click)="submitQuiz()" [disabled]="quizSubmitted || !allQuestionsAnswered()" style="width: 100%; padding: 12px; background-color: #f38f1d; border: none; border-radius: 4px; color: #fff; font-size: 1.1rem; font-weight: 600; cursor: pointer;">
      Submit Quiz
    </button>
    
    <div *ngIf="quizSubmitted" style="margin-top: 20px; text-align: center;">
      <p>{{ quizResultMessage }}</p>
      <p>Your new total points: {{ newPoints }}</p>
      <p *ngIf="milestoneMessage" style="color: green; font-weight: bold;">{{ milestoneMessage }}</p>
    </div>
  </div>
</div>
